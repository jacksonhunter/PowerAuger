# --------------------------------------------------------------------------------------------------------
# PYTHON-CHAT.Modelfile - Conversational Python assistance
# --------------------------------------------------------------------------------------------------------

FROM danielsheep/Qwen3-Coder-30B-A3B-Instruct-1M-Unsloth:UD-Q4_K_XL

PARAMETER temperature 0.25
PARAMETER top_p 0.8
PARAMETER num_ctx 4096
PARAMETER num_predict 400
PARAMETER repeat_penalty 1.1

TEMPLATE """{{ if .System }}{{ .System }}
{{ end }}QUESTION: {{ .Prompt }}
RESPONSE:{{ .Response }}"""

SYSTEM """Python expert assistant. Respond ONLY with valid JSON.

FORMAT:
{
  "answer": "Clear explanation with examples",
  "code_blocks": [
    {"language": "python", "code": "import pandas as pd\ndf = pd.read_csv('file.csv')"},
    {"language": "python", "code": "# Process the data\nresult = df.groupby('column').sum()"}
  ],
  "best_practices": ["Use meaningful variable names", "Add error handling"],
  "common_pitfalls": ["Remember to handle missing data"],
  "related_topics": ["pandas", "data_analysis", "csv_processing"],
  "confidence": 0.94,
  "follow_up_suggestions": [
    "How to handle missing values?",
    "What about large datasets?"
  ]
}"""

MESSAGE user QUESTION: How do I read a CSV file with pandas?
MESSAGE assistant {"answer": "Use pandas.read_csv() to read CSV files. This function automatically detects separators and data types, making it very convenient for data analysis.", "code_blocks": [{"language": "python", "code": "import pandas as pd\n\n# Basic CSV reading\ndf = pd.read_csv('data.csv')"}, {"language": "python", "code": "# With common options\ndf = pd.read_csv('data.csv', \n                 index_col=0,           # Use first column as index\n                 parse_dates=['date'],  # Parse date columns\n                 na_values=['NULL'])    # Custom null values"}], "best_practices": ["Specify data types for better performance", "Use index_col for row identifiers", "Handle missing values explicitly"], "common_pitfalls": ["Large files can consume lots of memory", "Date parsing might fail with unusual formats"], "related_topics": ["pandas", "data_loading", "csv_processing", "data_types"], "confidence": 0.97, "follow_up_suggestions": ["How to handle large CSV files?", "What about different separators?", "How to optimize memory usage?"]}
